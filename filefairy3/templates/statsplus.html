{% extends "base.html" %}
{% import "common.html" as common %}

{% set items = [('overview', 'Overview'), ('filter', 'Filter'), ('scores', 'Scores')] %}
{% if injuries %}
{% do items.append(('injuries', 'Injuries')) %}
{% endif %}
{% if highlights %}
{% do items.append(('highlights', 'Highlights')) %}
{% endif %}
{% if forecast %}
{% do items.append(('forecast', 'Forecast')) %}
{% endif %}
{% block nav %}
        {{ common.nav(items)|indent(8) }}
{% endblock %}

{% block content %}
    <div class="container anchor" id="overview">
      {{ common.heading('monitor', 'Overview')|indent(6) }}
      <div class="row">
        {% if live|length() > 2 %}
        {% set n = live|length() // 2 %}
        <div class="col-md-6">
          {% for table in live[:n] %}
          {{ common.table(table)|indent(10) }}
          {% endfor %}
        </div>
        <div class="col-md-6">
          {% for table in live[n:] %}
          {{ common.table(table)|indent(10) }}
          {% endfor %}
        </div>
        {% endif %}
        {% if live|length() <= 2 %}
        <div class="col-12">
          {% for table in live %}
          {{ common.table(table)|indent(10) }}
          {% endfor %}
        </div>
        {% endif %}
      </div>
    </div>
    <div class="container anchor" id="filter">
      {{ common.heading('magnifying-glass', 'Filter')|indent(6) }}
      {{ common.form()|indent(6) }}
    </div>
    <div class="container anchor" id="scores">
      {{ common.heading('layers', 'Scores')|indent(6) }}
      <div class="row">
        <div class="col-12">
          {% for table in scores %}
          {{ common.table(table)|indent(10) }}
          {% endfor %}
        </div>
      </div>
    </div>
    {% if injuries %}
    <div class="container anchor" id="injuries">
      {{ common.heading('pulse', 'Injuries')|indent(6) }}
      <div class="row">
        <div class="col-12">
          {% for table in injuries %}
          {{ common.table(table)|indent(10) }}
          {% endfor %}
        </div>
      </div>
    </div>
    {% endif %}
    {% if highlights %}
    <div class="container anchor" id="highlights">
      {{ common.heading('bolt', 'Highlights')|indent(6) }}
      <div class="row">
        <div class="col-12">
          {% for table in highlights %}
          {{ common.table(table)|indent(10) }}
          {% endfor %}
        </div>
      </div>
    </div>
    {% endif %}
    {% if forecast %}
    <div class="container anchor" id="forecast">
      {{ common.heading('compass', 'Forecast')|indent(6) }}
      <div class="row">
        {% set n = forecast|length() // 2 %}
        <div class="col-md-6">
          {% for table in forecast[:n] %}
          {{ common.table(table)|indent(10) }}
          {% endfor %}
        </div>
        <div class="col-md-6">
          {% for table in forecast[n:] %}
          {{ common.table(table)|indent(10) }}
          {% endfor %}
        </div>
      </div>
    </div>
    {% endif %}
{% endblock %}

{% block script %}
  {{ common.form_js(['#scores', '#injuries', '#highlights'])|indent(2) }}
{% endblock %}

