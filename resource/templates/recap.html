{% extends "base.html" %}
{% import "common.html" as common %}

{% set modals = [] %}
{% set anchors = [] %}
{% if teams %}
{% do anchors.append(('teams', 'Teams')) %}
{% endif %}
{% do anchors.append(('filter', 'Filter')) %}
{% if injuries %}
{% do anchors.append(('injuries', 'Injuries')) %}
{% endif %}
{% if news %}
{% do anchors.append(('news', 'News')) %}
{% endif %}
{% if transactions %}
{% do anchors.append(('transactions', 'Transactions')) %}
{% endif %}
{% if standings %}
{% do anchors.append(('standings', 'Standings')) %}
{% endif %}
{% block nav %}
{{ common.nav(modals, anchors) }}
{% endblock %}

{% block content %}

{% if teams %}
<!-- ^(recap.teams) -->
<div class="container anchor" id="teams">

{{ common.heading('bookmark', 'Teams') }}

{{ common.dropdown('/recap', teams) }}

</div>
<!-- $(recap.teams) -->
{% endif %}

<!-- ^(recap.filter) -->
<div class="container anchor" id="filter">

{{ common.heading('magnifying-glass', 'Filter') }}

{{ common.form() }}

</div>
<!-- $(recap.filter) -->

{% if injuries %}
<!-- ^(recap.injuries) -->
<div class="container anchor" id="injuries"s>

{{ common.heading('pulse', 'Injuries') }}

<!-- ^(recap.row) -->
<div class="row">

<!-- ^(recap.column) -->
<div class="col-12">

{% for table in injuries %}
{{ common.table(table) }}

{% endfor %}
</div>
<!-- $(recap.column) -->

</div>
<!-- $(recap.row) -->

</div>
<!-- $(recap.injuries) -->
{% endif %}

{% if news %}
<!-- ^(recap.news) -->
<div class="container anchor" id="news">

{{ common.heading('rss', 'News') }}

<!-- ^(recap.row) -->
<div class="row">

<!-- ^(recap.column) -->
<div class="col-12">

{% for table in news %}
{{ common.table(table) }}

{% endfor %}
</div>
<!-- $(recap.column) -->

</div>
<!-- $(recap.row) -->

</div>
<!-- $(recap.news) -->
{% endif %}

{% if transactions %}
<!-- ^(recap.transactions) -->
<div class="container anchor" id="transactions">

{{ common.heading('loop-circular', 'Transactions') }}

<!-- ^(recap.row) -->
<div class="row">

<!-- ^(recap.column) -->
<div class="col-12">

{% for table in transactions %}
{{ common.table(table) }}

{% endfor %}
</div>
<!-- $(recap.column) -->

</div>
<!-- $(recap.row) -->

</div>
<!-- $(recap.transactions) -->
{% endif %}

{% if standings %}
<!-- ^(recap.standings) -->
<div class="container anchor" id="standings">

{{ common.heading('book', 'Standings') }}

<!-- ^(recap.row) -->
<div class="row">
{% set n = standings|length() // 2 %}

<!-- ^(recap.column) -->
<div class="col-md-6">

{% for table in standings[:n] %}
{{ common.table(table) }}

{% endfor %}
</div>
<!-- $(recap.column) -->

<!-- ^(recap.column) -->
<div class="col-md-6">

{% for table in standings[n:] %}
{{ common.table(table) }}

{% endfor %}
</div>
<!-- $(recap.column) -->

</div>
<!-- $(recap.row) -->

</div>
<!-- $(recap.transactions) -->
{% endif %}

{% endblock %}

{% block script %}
{{ common.form_js(['injuries', 'news', 'transactions']) }}
{% endblock %}
